// Интенты
intent("choose_plant", "Посоветуй растение", "Что выбрать?", "Помоги подобрать цветы")

intent("plant_care", "Как ухаживать за растением?", "Расскажи об уходе", "Что делать с цветком после покупки?")

// Сценарий выбора растения
+choose_plant
    // Приветствие
    // Ввод цели выбора растения
    "Для чего вам нужно растение? Дом, офис или подарок?"
    buttons ("Дом", "Офис", "Подарок")
    $purpose = input()

    // Ввод предпочтений по цвету
    "Какие у вас предпочтения по цвету?"
    $color = input()

    // Ввод предпочтений по уходу
    "Какие у вас предпочтения по уходу? Минимальный или стандартный?"
    buttons ("Минимальный", "Стандартный")
    $care = input()

    // Рекомендация растений
    $recommendations = recommendPlants($purpose, $color, $care)
    "Спасибо за информацию! Рекомендую следующие растения: $recommendations."

// Сценарий ухода за растением
+plant_care
    "Растения требуют разного ухода. Напишите название растения, и я подскажу, что делать."
    $plantName = input()
    "Рекомендации по уходу за растением '$plantName' отправлены на ваш email."

// Функция для рекомендации растений
$global function recommendPlants(purpose, color, care) {
    var plants = [
        {"name": "Фикус", "purpose": "Дом", "color": "зелёный", "care": "Минимальный"},
        {"name": "Орхидея", "purpose": "Подарок", "color": "белый", "care": "Стандартный"}
    ]
    var result = plants.filter(p => p.purpose == purpose && p.color.includes(color) && p.care == care)
    return result.map(p => p.name).join(", ")
}
