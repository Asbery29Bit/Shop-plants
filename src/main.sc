theme: /

    state: Приветствие
        q!: $regex</start>
        random: 
            a: Добрый день! Чем могу помочь?
            a: Приветствую! Готов помочь вам с выбором растения.
        buttons:
            {text: "Наш сайт", url: "https://elovpark.ru/"}
            {text: "Выбрать растение", action: "/Фильтры"}
        intent: /sys/aimylogic/ru/parting || toState = "/Проверка"
        event: noMatch || toState = "./"

    state: Не понял
        event!: noMatch
        a: Простите, я не совсем понял. Попробуйте задать вопрос по-другому.

    state: Действие
        intent!: /Оформление заказа
        a: Отлично, давайте оформим ваш заказ!
        intent: /Информация о растении || toState = "./"
        event: noMatch || toState = "./"

    state: Критерии выбора
        a: Расскажите о своих предпочтениях. Например, какой размер или условия выращивания вы ищете?
        buttons:
            "Выбрать по размеру" -> /Фильтры
            "Выбрать по цене" -> /Фильтры
            "Выбрать растение" -> /Фильтры  # Новая кнопка для выбора растения
        intent: /Оформление заказа || toState = "./"
        event: noMatch || toState = "./"

    state: Вывод растения
        q!: * @Имя_растения *
        a: Название продукта: {{ $parseTree.Имя_растения.name }}
        buttons:
            "Добавить в корзину" -> /Оформление заказа
            "Назад к выбору" -> /Фильтры

    state: Поиск растения
        intent: /Поиск растений || toState = "./"
        event: noMatch || toState = "./"
        a: Опишите, какое растение вы ищете, или выберите параметры через фильтры.

    state: Фильтры
        a: Вы можете выбрать растение по следующим критериям:
            - Размер (большой, средний, маленький)
            - Цена
            - Световые условия (тень, полутень, умеренные, яркие)
            - Цвет
            - Частота полива (регулярная, редкая, умеренная)
            - Температура (прохладная, комнатная, теплая)
        buttons:
            "Фильтр по размеру" -> /Фильтры
            "Фильтр по цене" -> /Фильтры
            "Фильтр по условиям" -> /Фильтры
            "Фильтр по цвету" -> /Фильтры
            "Выбрать растение" -> /Фильтры  # Повтор кнопки для выбора растения
        q: * @Размер * || toState = "/Фильтры"
        q: * @Цена * || toState = "/Фильтры"
        q: * @Световые_условия * || toState = "/Фильтры"
        q: * @Температура * || toState = "/Фильтры"
        q: * @Цвет * || toState = "/Проверка"
        q: * @Частота_полива * || toState = "/Фильтры"

    state: Проверка
        q!: Отличный выбор! Укажите параметры растения, которые вам интересны:
            - Название: "Монстера"
            - Размер: "Большой"
            - Цена: "До 3000 рублей"
            - Световые условия: "Полутень"
            - Цвет: "Зеленый"
            - Частота полива: "Умеренная"
            - Температура: "Комнатная"
        buttons:
            "Вернуться к фильтрам" -> /Фильтры
            "Оформить заказ" -> /Оформление заказа
        event: noMatch || toState = "/Фильтры"

    state: Завершение
        q!: Ваш заказ оформлен! Хотите что-то еще?
        random:
            a: Спасибо за заказ! Мы свяжемся с вами в ближайшее время.
            a: Отлично! Ваш заказ принят. Ожидайте подтверждения.
        buttons:
            "На главную" -> /Приветствие
            "Выбрать другое растение" -> /Фильтры
        intent: /sys/aimylogic/ru/parting || toState = "/Приветствие"
        event: noMatch || toState = "/Приветствие"
